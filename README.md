
# MicroFPGA

<!---MicroFPGA is a cost-efficient electronic platform generating typical signals used to control microscope elements. It is based on hobby [FPGA](https://en.wikipedia.org/wiki/Field-programmable_gate_array "Wikipedia")s (Field-Programmable Gate Array) from [Alchitry](https://alchitry.com/collections/all) (Au and Cu FPGAs). 

**tutorials**

## Why use a FPGA?

 While most signals can be generated by an Arduino, using more accessible code

laser trigger complex task

scaling of time signals easier since independents in an fpga

--->

## What can MicroFPGA do?

MicroFPGA can generate and read several control signals useful in microscopy:

|              Signal              |                           Details                            |          Use examples           |
| :------------------------------: | :----------------------------------------------------------: | :-----------------------------: |
| Laser triggering (**Au**/**Cu**) | Using a camera read-out signal, multiple lasers can be triggered independently following custom patterns and Âµs pulse resolution |        Laser triggering         |
|       TTL (**Au**/**Cu**)        |                       HIGH/LOW signals                       |          Flip-mirrors           |
|      Servos (**Au**/**Cu**)      |      1 ms - 2 ms servo signals with a switch-off delay       | Filter-wheel, moveable elements |
|       PWM (**Au**/**Cu**)        | Can be used to create an analog signal using a low-pass circuit |         AOM or laser %          |
|     Analog read-out (**Au**)     |            8 analog read-out channels (0 to 1 V)             |        Sensor read-outs         |

We provide communication libraries for [Micro-Manager](https://micro-manager.org/), [Java](MicroFPGA-Java), [Python](MicroFPGA-Py) and an example for [LabView](MicroFPGA-LabView). In order to install and communicate with MicroFPGA, refer to the [tutorials](tutorials).

## Content

The repository contains the firmware for the FPGAs, as well as multiple complimentary projects:

#### Firmware

- [Au firmware](Au_firmware): [Alchitry labs](https://alchitry.com/pages/alchitry-labs) project for the [Au board](https://alchitry.com/products/alchitry-au-fpga-development-board), written in [Lucid](https://alchitry.com/pages/lucid-fpga-tutorials).
- [Cu firmware](Cu_firmware): [Alchitry labs](https://alchitry.com/pages/alchitry-labs) project for the [Cu board](https://alchitry.com/collections/all/products/alchitry-cu-fpga-development-board), written in [Lucid](https://alchitry.com/pages/lucid-fpga-tutorials).

#### Communication software

- [Micro-Manager device adapter](Device_Adapter): MicroFPGA driver source code for the microscope control software [Micro-Manager](https://micro-manager.org/), written in C++.
- [Java](MicroFPGA-Java): communication library in Java, with example code.
- [Python](MicroFPGA-Py): communication library in Python, with example code. 
- [LabView](MicroFPGA-LabView): example communication in LabView. This project is not maintained. 

#### Resources

- [Electronics](Electronics): complementary electronic boards to scale up/down voltages or generate analog signals from MicroFPGA outputs.

- [Tutorials](tutorials): detailed walkthrough of MicroFPGA installation, of the software and electronics, as well as examples of firmware modifications.

## External resources

Check out examples of [moveable optical elements](https://github.com/ries-lab/RiesPieces/tree/master/Microscopy) compatible with MicroFPGA and used by the [Ries group](https://rieslab.de/).



MicroFPGA was written by Joran Deschamps, EMBL (2020). The electronics and LabView example were developed by Christian Kieser (Electronics Workshop, EMBL).
